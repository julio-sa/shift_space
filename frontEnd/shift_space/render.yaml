services:
  - type: web
    name: shift-space-app
    env: static
    # ✅ Isso diz ao Render onde está o projeto Flutter
    rootDir: frontEnd/shift_space
    buildCommand: |
      # Install Flutter
      curl -fsSL https://storage.googleapis.com/flutter_infra_release/releases/stable/linux/flutter_linux_3.19.0-stable.tar.xz | tar xJ
      export PATH="$PATH:`pwd`/flutter/bin"
      
      # Configure Flutter
      flutter config --enable-web --no-analytics
      flutter doctor --suppress-analytics
      
      # Install dependencies and build
      flutter pub get
      flutter build web --release --web-renderer html --dart-define=FLUTTER_WEB_USE_SKIA=false
      
    staticPublishPath: build/web
    
    headers:
      - path: /*
        name: X-Frame-Options
        value: SAMEORIGIN
      - path: /*
        name: X-Content-Type-Options
        value: nosniff
      - path: /assets/*
        name: Cache-Control
        value: public, max-age=31536000, immutable
